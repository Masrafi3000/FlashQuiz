{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\FlashQuizApp\\\\flashquiz-frontend\\\\src\\\\pages\\\\CreateCardPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { FaHome, FaQuestion, FaPlus, FaTrash, FaCheck, FaArrowRight, FaPlay, FaTrashAlt, FaFileExport, FaFileImport } from 'react-icons/fa';\nimport './CreateCardPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreateCardPage() {\n  _s();\n  const [cards, setCards] = useState([]);\n  const [front, setFront] = useState('');\n  const [back, setBack] = useState('');\n  const [quizIndex, setQuizIndex] = useState(0);\n  const [userAnswer, setUserAnswer] = useState('');\n  const [resultMessage, setResultMessage] = useState('');\n  const [showTest, setShowTest] = useState(false);\n  const [isFlipped, setIsFlipped] = useState(false);\n  const [addButtonFeedback, setAddButtonFeedback] = useState(false);\n  const [clearButtonFeedback, setClearButtonFeedback] = useState(false);\n\n  // Enhanced loading with multiple fallbacks\n  useEffect(() => {\n    const loadCards = () => {\n      let loadedCards = null;\n\n      // Try localStorage first\n      try {\n        const saved = localStorage.getItem('flashcards');\n        if (saved) {\n          const parsed = JSON.parse(saved);\n          if (Array.isArray(parsed) && parsed.every(card => typeof card === 'object' && card !== null && 'front' in card && 'back' in card)) {\n            loadedCards = parsed;\n          }\n        }\n      } catch (e) {\n        console.error('LocalStorage parse error:', e);\n        localStorage.removeItem('flashcards');\n      }\n\n      // Then try sessionStorage\n      if (!loadedCards) {\n        try {\n          const backup = sessionStorage.getItem('flashcards-backup');\n          if (backup) {\n            const parsed = JSON.parse(backup);\n            if (Array.isArray(parsed)) loadedCards = parsed;\n          }\n        } catch (e) {/* ignore */}\n      }\n\n      // Finally try cookies as last resort\n      if (!loadedCards) {\n        try {\n          const cookie = document.cookie.split('; ').find(row => row.startsWith('flashcards='));\n          if (cookie) {\n            const value = cookie.split('=')[1];\n            loadedCards = JSON.parse(decodeURIComponent(value));\n          }\n        } catch (e) {/* ignore */}\n      }\n      if (loadedCards && Array.isArray(loadedCards)) {\n        setCards(loadedCards);\n        console.log('Loaded cards:', loadedCards);\n      }\n    };\n    loadCards();\n  }, []);\n\n  // Robust saving with multiple fallbacks\n  useEffect(() => {\n    const saveCards = () => {\n      if (cards.length === 0) return;\n      const data = JSON.stringify(cards);\n      try {\n        localStorage.setItem('flashcards', data);\n        console.log('Saved to localStorage');\n      } catch (error) {\n        console.error('LocalStorage error:', error);\n        try {\n          sessionStorage.setItem('flashcards-backup', data);\n          console.log('Saved to sessionStorage');\n        } catch (e) {\n          console.error('SessionStorage error:', e);\n          document.cookie = `flashcards=${encodeURIComponent(data)}; max-age=${60 * 60 * 24 * 7}`;\n          console.log('Saved to cookie');\n        }\n      }\n    };\n    saveCards();\n  }, [cards]);\n  const addCard = () => {\n    if (!front.trim() || !back.trim()) return;\n    const newCard = {\n      front,\n      back\n    };\n    const updated = [...cards, newCard];\n    setCards(updated);\n    setFront('');\n    setBack('');\n    setAddButtonFeedback(true);\n    setTimeout(() => setAddButtonFeedback(false), 1500);\n  };\n  const deleteCard = i => {\n    if (window.confirm('Are you sure you want to delete this flashcard?')) {\n      const updated = [...cards];\n      updated.splice(i, 1);\n      setCards(updated);\n      if (quizIndex >= i && quizIndex > 0) {\n        setQuizIndex(prev => prev - 1);\n      }\n    }\n  };\n  const clearAll = () => {\n    if (cards.length === 0) {\n      alert('No flashcards to clear.');\n      return;\n    }\n    if (window.confirm('Are you sure you want to delete ALL flashcards? This cannot be undone.')) {\n      setCards([]);\n      setQuizIndex(0);\n      setUserAnswer('');\n      setShowTest(false);\n      setResultMessage('');\n\n      // Clear from all storage locations\n      localStorage.removeItem('flashcards');\n      sessionStorage.removeItem('flashcards-backup');\n      document.cookie = 'flashcards=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n      setClearButtonFeedback(true);\n      setTimeout(() => setClearButtonFeedback(false), 1500);\n    }\n  };\n  const exportCards = () => {\n    if (cards.length === 0) {\n      alert('No flashcards to export.');\n      return;\n    }\n    const data = JSON.stringify(cards, null, 2);\n    const blob = new Blob([data], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'flashcards-backup.json';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    setTimeout(() => URL.revokeObjectURL(url), 100);\n  };\n  const importCards = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const imported = JSON.parse(e.target.result);\n        if (Array.isArray(imported) && imported.every(card => typeof card === 'object' && card !== null && 'front' in card && 'back' in card)) {\n          if (window.confirm(`Import ${imported.length} flashcards? This will replace your current set.`)) {\n            setCards(imported);\n          }\n        } else {\n          alert('Invalid file format - must be an array of flashcard objects');\n        }\n      } catch (err) {\n        alert('Error parsing file - invalid JSON');\n      }\n    };\n    reader.readAsText(file);\n    event.target.value = ''; // Reset input\n  };\n  const startTest = () => {\n    if (cards.length === 0) {\n      alert('Please create some flashcards first.');\n      return;\n    }\n    setQuizIndex(0);\n    setUserAnswer('');\n    setResultMessage('');\n    setShowTest(true);\n    setIsFlipped(false);\n  };\n  const checkAnswer = () => {\n    const correct = cards[quizIndex].back.trim().toLowerCase();\n    const answer = userAnswer.trim().toLowerCase();\n    if (answer === correct) {\n      setResultMessage('Correct!');\n    } else {\n      setResultMessage(`Incorrect. The correct answer is: ${cards[quizIndex].back}`);\n    }\n  };\n  const nextCard = () => {\n    if (quizIndex + 1 < cards.length) {\n      setQuizIndex(quizIndex + 1);\n      setUserAnswer('');\n      setResultMessage('');\n      setIsFlipped(false);\n    } else {\n      alert('You have completed all flashcards!');\n      setShowTest(false);\n    }\n  };\n  const toggleCardFlip = () => {\n    setIsFlipped(!isFlipped);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Create Flashcards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mode-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"mode-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaHome, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 44\n          }, this), \" Home\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startTest,\n          className: \"mode-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaQuestion, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 60\n          }, this), \" Quiz\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flashcard-management\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Create New Flashcard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"frontText\",\n            children: \"Question/Term\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"frontText\",\n            rows: \"3\",\n            placeholder: \"Enter question or term\",\n            value: front,\n            onChange: e => setFront(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"backText\",\n            children: \"Answer/Definition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"backText\",\n            rows: \"3\",\n            placeholder: \"Enter answer or definition\",\n            value: back,\n            onChange: e => setBack(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"management-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addCard,\n            className: `primary-btn ${addButtonFeedback ? 'success-feedback' : ''}`,\n            children: [addButtonFeedback ? /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 36\n            }, this) : /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 50\n            }, this), addButtonFeedback ? 'Added!' : 'Add Flashcard']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearAll,\n            className: `danger-btn ${clearButtonFeedback ? 'success-feedback' : ''}`,\n            children: [clearButtonFeedback ? /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 38\n            }, this) : /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 52\n            }, this), clearButtonFeedback ? 'Cleared!' : 'Clear All']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportCards,\n            className: \"primary-btn\",\n            children: [/*#__PURE__*/_jsxDEV(FaFileExport, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), \" Export\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"primary-btn file-import-btn\",\n            children: [/*#__PURE__*/_jsxDEV(FaFileImport, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), \" Import\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".json\",\n              onChange: importCards,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total Cards: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: cards.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-list\",\n          children: cards.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"noCardsMessage\",\n            children: \"No flashcards created yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this) : cards.map((card, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Q:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), \" \", card.front, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this), \" \", card.back]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-card-btn\",\n                onClick: () => deleteCard(index),\n                title: \"Delete this card\",\n                children: /*#__PURE__*/_jsxDEV(FaTrashAlt, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"test-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Test Yourself\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), showTest && cards.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"test-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flashcard ${isFlipped ? 'flipped' : ''}`,\n              onClick: toggleCardFlip,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flashcard-inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flashcard-front\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flashcard-content\",\n                    children: cards[quizIndex].front\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flashcard-back\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flashcard-content\",\n                    children: cards[quizIndex].back\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"answer-input\",\n                placeholder: \"Type your answer here...\",\n                value: userAnswer,\n                onChange: e => setUserAnswer(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: checkAnswer,\n                className: \"check-answer-btn\",\n                children: \"Check Answer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), resultMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `result-message ${resultMessage.includes('Correct') ? 'correct' : 'incorrect'}`,\n                children: resultMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"management-buttons\",\n              style: {\n                marginTop: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: nextCard,\n                className: \"primary-btn\",\n                children: [/*#__PURE__*/_jsxDEV(FaArrowRight, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this), \" Next Card\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startTest,\n            className: \"primary-btn\",\n            style: {\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), \" Start Test\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateCardPage, \"jB+GNy1HO85XEJ77baT6pO08m3M=\");\n_c = CreateCardPage;\nexport default CreateCardPage;\nvar _c;\n$RefreshReg$(_c, \"CreateCardPage\");","map":{"version":3,"names":["React","useState","useEffect","FaHome","FaQuestion","FaPlus","FaTrash","FaCheck","FaArrowRight","FaPlay","FaTrashAlt","FaFileExport","FaFileImport","jsxDEV","_jsxDEV","CreateCardPage","_s","cards","setCards","front","setFront","back","setBack","quizIndex","setQuizIndex","userAnswer","setUserAnswer","resultMessage","setResultMessage","showTest","setShowTest","isFlipped","setIsFlipped","addButtonFeedback","setAddButtonFeedback","clearButtonFeedback","setClearButtonFeedback","loadCards","loadedCards","saved","localStorage","getItem","parsed","JSON","parse","Array","isArray","every","card","e","console","error","removeItem","backup","sessionStorage","cookie","document","split","find","row","startsWith","value","decodeURIComponent","log","saveCards","length","data","stringify","setItem","encodeURIComponent","addCard","trim","newCard","updated","setTimeout","deleteCard","i","window","confirm","splice","prev","clearAll","alert","exportCards","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","importCards","event","file","target","files","reader","FileReader","onload","imported","result","err","readAsText","startTest","checkAnswer","correct","toLowerCase","answer","nextCard","toggleCardFlip","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","id","rows","placeholder","onChange","accept","style","display","map","index","title","marginTop","includes","_c","$RefreshReg$"],"sources":["C:/Users/HP/FlashQuizApp/flashquiz-frontend/src/pages/CreateCardPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaHome, FaQuestion, FaPlus, FaTrash, FaCheck, FaArrowRight, FaPlay, FaTrashAlt, FaFileExport, FaFileImport } from 'react-icons/fa';\r\nimport './CreateCardPage.css';\r\n\r\nfunction CreateCardPage() {\r\n  const [cards, setCards] = useState([]);\r\n  const [front, setFront] = useState('');\r\n  const [back, setBack] = useState('');\r\n  const [quizIndex, setQuizIndex] = useState(0);\r\n  const [userAnswer, setUserAnswer] = useState('');\r\n  const [resultMessage, setResultMessage] = useState('');\r\n  const [showTest, setShowTest] = useState(false);\r\n  const [isFlipped, setIsFlipped] = useState(false);\r\n  const [addButtonFeedback, setAddButtonFeedback] = useState(false);\r\n  const [clearButtonFeedback, setClearButtonFeedback] = useState(false);\r\n\r\n  // Enhanced loading with multiple fallbacks\r\n  useEffect(() => {\r\n    const loadCards = () => {\r\n      let loadedCards = null;\r\n      \r\n      // Try localStorage first\r\n      try {\r\n        const saved = localStorage.getItem('flashcards');\r\n        if (saved) {\r\n          const parsed = JSON.parse(saved);\r\n          if (Array.isArray(parsed) && parsed.every(card => \r\n            typeof card === 'object' && \r\n            card !== null && \r\n            'front' in card && \r\n            'back' in card\r\n          )) {\r\n            loadedCards = parsed;\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('LocalStorage parse error:', e);\r\n        localStorage.removeItem('flashcards');\r\n      }\r\n      \r\n      // Then try sessionStorage\r\n      if (!loadedCards) {\r\n        try {\r\n          const backup = sessionStorage.getItem('flashcards-backup');\r\n          if (backup) {\r\n            const parsed = JSON.parse(backup);\r\n            if (Array.isArray(parsed)) loadedCards = parsed;\r\n          }\r\n        } catch (e) { /* ignore */ }\r\n      }\r\n      \r\n      // Finally try cookies as last resort\r\n      if (!loadedCards) {\r\n        try {\r\n          const cookie = document.cookie.split('; ')\r\n            .find(row => row.startsWith('flashcards='));\r\n          if (cookie) {\r\n            const value = cookie.split('=')[1];\r\n            loadedCards = JSON.parse(decodeURIComponent(value));\r\n          }\r\n        } catch (e) { /* ignore */ }\r\n      }\r\n      \r\n      if (loadedCards && Array.isArray(loadedCards)) {\r\n        setCards(loadedCards);\r\n        console.log('Loaded cards:', loadedCards);\r\n      }\r\n    };\r\n\r\n    loadCards();\r\n  }, []);\r\n\r\n  // Robust saving with multiple fallbacks\r\n  useEffect(() => {\r\n    const saveCards = () => {\r\n      if (cards.length === 0) return;\r\n      \r\n      const data = JSON.stringify(cards);\r\n      \r\n      try {\r\n        localStorage.setItem('flashcards', data);\r\n        console.log('Saved to localStorage');\r\n      } catch (error) {\r\n        console.error('LocalStorage error:', error);\r\n        try {\r\n          sessionStorage.setItem('flashcards-backup', data);\r\n          console.log('Saved to sessionStorage');\r\n        } catch (e) {\r\n          console.error('SessionStorage error:', e);\r\n          document.cookie = `flashcards=${encodeURIComponent(data)}; max-age=${60*60*24*7}`;\r\n          console.log('Saved to cookie');\r\n        }\r\n      }\r\n    };\r\n\r\n    saveCards();\r\n  }, [cards]);\r\n\r\n  const addCard = () => {\r\n    if (!front.trim() || !back.trim()) return;\r\n    const newCard = { front, back };\r\n    const updated = [...cards, newCard];\r\n    setCards(updated);\r\n    setFront('');\r\n    setBack('');\r\n    \r\n    setAddButtonFeedback(true);\r\n    setTimeout(() => setAddButtonFeedback(false), 1500);\r\n  };\r\n\r\n  const deleteCard = (i) => {\r\n    if (window.confirm('Are you sure you want to delete this flashcard?')) {\r\n      const updated = [...cards];\r\n      updated.splice(i, 1);\r\n      setCards(updated);\r\n      if (quizIndex >= i && quizIndex > 0) {\r\n        setQuizIndex((prev) => prev - 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const clearAll = () => {\r\n    if (cards.length === 0) {\r\n      alert('No flashcards to clear.');\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm('Are you sure you want to delete ALL flashcards? This cannot be undone.')) {\r\n      setCards([]);\r\n      setQuizIndex(0);\r\n      setUserAnswer('');\r\n      setShowTest(false);\r\n      setResultMessage('');\r\n      \r\n      // Clear from all storage locations\r\n      localStorage.removeItem('flashcards');\r\n      sessionStorage.removeItem('flashcards-backup');\r\n      document.cookie = 'flashcards=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n      \r\n      setClearButtonFeedback(true);\r\n      setTimeout(() => setClearButtonFeedback(false), 1500);\r\n    }\r\n  };\r\n\r\n  const exportCards = () => {\r\n    if (cards.length === 0) {\r\n      alert('No flashcards to export.');\r\n      return;\r\n    }\r\n    \r\n    const data = JSON.stringify(cards, null, 2);\r\n    const blob = new Blob([data], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'flashcards-backup.json';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    setTimeout(() => URL.revokeObjectURL(url), 100);\r\n  };\r\n\r\n  const importCards = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const imported = JSON.parse(e.target.result);\r\n        if (Array.isArray(imported) && imported.every(card => \r\n          typeof card === 'object' && \r\n          card !== null && \r\n          'front' in card && \r\n          'back' in card\r\n        )) {\r\n          if (window.confirm(`Import ${imported.length} flashcards? This will replace your current set.`)) {\r\n            setCards(imported);\r\n          }\r\n        } else {\r\n          alert('Invalid file format - must be an array of flashcard objects');\r\n        }\r\n      } catch (err) {\r\n        alert('Error parsing file - invalid JSON');\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n    event.target.value = ''; // Reset input\r\n  };\r\n\r\n  const startTest = () => {\r\n    if (cards.length === 0) {\r\n      alert('Please create some flashcards first.');\r\n      return;\r\n    }\r\n    setQuizIndex(0);\r\n    setUserAnswer('');\r\n    setResultMessage('');\r\n    setShowTest(true);\r\n    setIsFlipped(false);\r\n  };\r\n\r\n  const checkAnswer = () => {\r\n    const correct = cards[quizIndex].back.trim().toLowerCase();\r\n    const answer = userAnswer.trim().toLowerCase();\r\n    if (answer === correct) {\r\n      setResultMessage('Correct!');\r\n    } else {\r\n      setResultMessage(`Incorrect. The correct answer is: ${cards[quizIndex].back}`);\r\n    }\r\n  };\r\n\r\n  const nextCard = () => {\r\n    if (quizIndex + 1 < cards.length) {\r\n      setQuizIndex(quizIndex + 1);\r\n      setUserAnswer('');\r\n      setResultMessage('');\r\n      setIsFlipped(false);\r\n    } else {\r\n      alert('You have completed all flashcards!');\r\n      setShowTest(false);\r\n    }\r\n  };\r\n\r\n  const toggleCardFlip = () => {\r\n    setIsFlipped(!isFlipped);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <header>\r\n        <h1>Create Flashcards</h1>\r\n        <div className=\"mode-toggle\">\r\n          <a href=\"/\" className=\"mode-btn\"><FaHome /> Home</a>\r\n          <button onClick={startTest} className=\"mode-btn\"><FaQuestion /> Quiz</button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"main-content\">\r\n        <div className=\"flashcard-management\">\r\n          <h2>Create New Flashcard</h2>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"frontText\">Question/Term</label>\r\n            <textarea \r\n              id=\"frontText\" \r\n              rows=\"3\" \r\n              placeholder=\"Enter question or term\" \r\n              value={front} \r\n              onChange={(e) => setFront(e.target.value)} \r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"backText\">Answer/Definition</label>\r\n            <textarea \r\n              id=\"backText\" \r\n              rows=\"3\" \r\n              placeholder=\"Enter answer or definition\" \r\n              value={back} \r\n              onChange={(e) => setBack(e.target.value)} \r\n            />\r\n          </div>\r\n          \r\n          <div className=\"management-buttons\">\r\n            <button \r\n              onClick={addCard} \r\n              className={`primary-btn ${addButtonFeedback ? 'success-feedback' : ''}`}\r\n            >\r\n              {addButtonFeedback ? <FaCheck /> : <FaPlus />} \r\n              {addButtonFeedback ? 'Added!' : 'Add Flashcard'}\r\n            </button>\r\n            <button \r\n              onClick={clearAll} \r\n              className={`danger-btn ${clearButtonFeedback ? 'success-feedback' : ''}`}\r\n            >\r\n              {clearButtonFeedback ? <FaCheck /> : <FaTrash />} \r\n              {clearButtonFeedback ? 'Cleared!' : 'Clear All'}\r\n            </button>\r\n            <button \r\n              onClick={exportCards} \r\n              className=\"primary-btn\"\r\n            >\r\n              <FaFileExport /> Export\r\n            </button>\r\n            <label className=\"primary-btn file-import-btn\">\r\n              <FaFileImport /> Import\r\n              <input \r\n                type=\"file\" \r\n                accept=\".json\" \r\n                onChange={importCards}\r\n                style={{ display: 'none' }}\r\n              />\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"stats\">\r\n            <p>Total Cards: <strong>{cards.length}</strong></p>\r\n          </div>\r\n\r\n          <div className=\"card-list\">\r\n            {cards.length === 0 ? (\r\n              <p id=\"noCardsMessage\">No flashcards created yet</p>\r\n            ) : (\r\n              cards.map((card, index) => (\r\n                <div className=\"card-item\" key={index}>\r\n                  <div className=\"card-content\">\r\n                    <strong>Q:</strong> {card.front}<br />\r\n                    <strong>A:</strong> {card.back}\r\n                  </div>\r\n                  <div className=\"card-actions\">\r\n                    <button \r\n                      className=\"delete-card-btn\" \r\n                      onClick={() => deleteCard(index)}\r\n                      title=\"Delete this card\"\r\n                    >\r\n                      <FaTrashAlt />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"test-section\">\r\n            <h2>Test Yourself</h2>\r\n            {showTest && cards.length > 0 ? (\r\n              <div className=\"test-container\">\r\n                <div \r\n                  className={`flashcard ${isFlipped ? 'flipped' : ''}`} \r\n                  onClick={toggleCardFlip}\r\n                >\r\n                  <div className=\"flashcard-inner\">\r\n                    <div className=\"flashcard-front\">\r\n                      <div className=\"flashcard-content\">\r\n                        {cards[quizIndex].front}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flashcard-back\">\r\n                      <div className=\"flashcard-content\">\r\n                        {cards[quizIndex].back}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div style={{ marginTop: '20px' }}>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"answer-input\"\r\n                    placeholder=\"Type your answer here...\"\r\n                    value={userAnswer}\r\n                    onChange={(e) => setUserAnswer(e.target.value)}\r\n                  />\r\n                  <button onClick={checkAnswer} className=\"check-answer-btn\">\r\n                    Check Answer\r\n                  </button>\r\n                  {resultMessage && (\r\n                    <div className={`result-message ${\r\n                      resultMessage.includes('Correct') ? 'correct' : 'incorrect'\r\n                    }`}>\r\n                      {resultMessage}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"management-buttons\" style={{ marginTop: '20px' }}>\r\n                  <button onClick={nextCard} className=\"primary-btn\">\r\n                    <FaArrowRight /> Next Card\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <button onClick={startTest} className=\"primary-btn\" style={{ marginTop: '20px' }}>\r\n                <FaPlay /> Start Test\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateCardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}